# ‚ö° kdiff

`kdiff` ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø—Ü–∏–π:  
- —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É,  
- —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫,  
- –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–ª–∏—á–∏–π,  
- –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.  

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ C++23 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:
 üé® **Decorator**, üß© **Template method**, üè≠ **Factory method**,  
 –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- üî† –†–µ–∂–∏–º **case-sensitive** (—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É)
- üî¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫
- üéØ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π
- ‚úÇ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- üåç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —à–∏—Ä–æ–∫–∏—Ö —Å—Ç—Ä–æ–∫ (`std::wstring`)

---

## üõ†Ô∏è –°–±–æ—Ä–∫–∞

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚öôÔ∏è CMake ‚â• 3.16
- üñ•Ô∏è –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C++23

```bash
git clone https://github.com/elized12/kdiff.git
cd kdiff
mkdir build && cd build
cmake ..
cmake --build .
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `./build/`.

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
kdiff [OPTIONS] <file1> <file2>
```

### ‚öôÔ∏è –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è                              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                  |
|------------------------------------|---------------------------------------------------------------------------|
| `--case-sensitive`                 | –í–∫–ª—é—á–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ                              |
| `--ranges=START1:END1,START2:END2` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—Ç—Ä–æ–∫                               |
| `--count-diff=N`                   | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ `N` —Ä–∞–∑–ª–∏—á–∏–π                                     |
| `--ignore-symbol=CHARS`            | –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏                                |

---

### üîç –ü—Ä–∏–º–µ—Ä—ã

–°—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞:

```bash
kdiff file1.txt file2.txt
```

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞:

```bash
kdiff --case-sensitive file1.txt file2.txt
```

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ 1‚Äì10:

```bash
kdiff --ranges=1:10,1:10 file1.txt file2.txt
```

–í—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 5 —Ä–∞–∑–ª–∏—á–∏–π:

```bash
kdiff --count-diff=5 file1.txt file2.txt
```

–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã –∏ –∑–∞–ø—è—Ç—ã–µ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏:

```bash
kdiff --ignore-symbol=" ,"
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `IDiffer` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤  
- `LineDiffer` ‚Äî –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è  
- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:
  - `CaseSensitiveDecorator` ‚Äî —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É  
  - `RangeDecorator` ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å—Ç—Ä–æ–∫  
  - `IgnoringSymbolDecorator` ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤  
- `LineDifferFactory` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞, —Å–æ–±–∏—Ä–∞—é—â–∞—è –ø–∞–π–ø–ª–∞–π–Ω –∏–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤  
- `DiffRender` ‚Äî –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ä–∞–∑–ª–∏—á–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å

---

## üìö –ê–ª–≥–æ—Ä–∏—Ç–º –ú–∞–π–µ—Ä—Å–∞

–í –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ kdiff –ª–µ–∂–∏—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ú–∞–π–µ—Ä—Å–∞ (Myers' diff algorithm) ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∞–≤–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏.

# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

–°–æ–±—Ä–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ —Å –ø–æ–º–æ—â—å—é CMake:

```bash
mkdir build
cd build
cmake ..
sudo make install
```

# üìÅ –ü—É—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤:

* –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª: /usr/local/bin/kdiff
* Bash completion: /usr/local/etc/bash_completion.d/kdiff